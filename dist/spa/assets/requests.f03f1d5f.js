import{$ as i,a0 as a,r as n,a1 as o}from"./index.bffc8bd0.js";function h(s,t={}){i.create({message:s,timeout:3e3,position:"top",...t})}const c=a("request",{state:()=>({rows:n([]),details:{},tabs:[],isShow:!1}),getters:{},actions:{async fetchData(){try{o.show();const s=await fetch("https://my-json-server.typicode.com/plushevy/demo/list");if(s.ok)o.hide();else throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 HTTP: ${s.status}`);const t=await s.json();this.rows=t}catch(s){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445:",s)}},async getDetails(s){try{o.show();const t=await fetch("https://my-json-server.typicode.com/plushevy/demo/orders/"+s);if(t.ok)o.hide();else throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 HTTP: ${t.status}`);const e=await t.json();this.details[s]=e}catch(t){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445:",t)}},deepCopy(s){return JSON.parse(JSON.stringify(s))},addTab(s){this.tabs.push(s)},removeTab(s){this.tabs=this.tabs.filter(t=>t.id!==s)},addNewReq(s){this.rows=[...this.rows,s],this.details[s.id]={...s}},updateRequest(s){const t=s.id;if(t){this.details[t]={...s};const e=this.rows.findIndex(r=>r.id===t);e!==-1?(this.rows.splice(e,1,{...s}),h("\u0417\u0430\u044F\u0432\u043A\u0430 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0430",{color:"green"})):console.error("\u041E\u0448\u0438\u0431\u043A\u0430")}},removeRow(s){this.rows=this.rows.filter(t=>t.id!==s)},tabIsOpen(s){return this.tabs.some(t=>t.id===s)}}});export{c as u};
