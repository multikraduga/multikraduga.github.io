import{l as F,c as $,h as b,B as T,j as ne,r as M,P as L,S as ge,T as v,U as m,Z as x,a3 as Q,a4 as W,a5 as ae,a6 as oe,a7 as ve,V as se,a8 as g,N as pe,a as De,X as J}from"./index.bffc8bd0.js";import{Q as ye,a as Me,p as h,c as we,b as Z,d as _e}from"./QTable.2581f266.js";import{u as Se}from"./requests.f03f1d5f.js";import{Q as Ye,a as Y}from"./QForm.4b4dd18e.js";import{u as be,a as xe}from"./use-key-composition.a2838def.js";import"./rtl.1ae01201.js";import"./uid.937d8ee7.js";var k=F({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const o=ne(),n=$(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return b("td",{class:n.value},T(t.default));const s=o.vnode.key,a=(e.props.colsMap!==void 0?e.props.colsMap[s]:null)||e.props.col;if(a===void 0)return;const{row:i}=e.props;return b("td",{class:n.value+a.__tdClass(i),style:a.__tdStyle(i)},T(t.default))}}});const $e={__name:"RequestGrid",props:{rows:Array,columns:Array},emits:["click-btn","delete"],setup(e,{emit:t}){const o=M({descending:!1,page:1,rowsPerPage:10}),n={init:{color:"orange",textColor:"white"},waitformeeting:{color:"red",textColor:"white"},meeting:{color:"pink",textColor:"white"},default:{color:"gray",textColor:"white"}},s=a=>n[a]?n[a]:n.default;return(a,i)=>(L(),ge(Me,{rows:e.rows,columns:e.columns,"row-key":"id",pagination:o.value,"onUpdate:pagination":i[0]||(i[0]=r=>o.value=r)},{"body-cell-action":v(r=>[m(k,{props:r},{default:v(()=>[m(x,{flat:"",round:"",icon:"arrow_right",onClick:u=>a.$emit("click-btn",r.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-delete":v(r=>[m(k,{props:r},{default:v(()=>[m(x,{flat:"",round:"",icon:"delete",onClick:u=>a.$emit("delete",r.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-client_name":v(r=>[m(k,{props:r},{default:v(()=>[Q(W(r.row.client_name?r.row.client_name:r.row.person_fullname),1)]),_:2},1032,["props"])]),"body-cell-state":v(r=>[m(k,{props:r},{default:v(()=>[m(ye,{dense:"",color:s(r.row.state).color,"text-color":s(r.row.state).textColor},{default:v(()=>[Q(W(r.row.state),1)]),_:2},1032,["color","text-color"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]))}},qe=b("div",{class:"q-space"});var Ve=F({name:"QSpace",setup(){return()=>qe}}),z=F({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const o=$(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:o.value},T(t.default))}}),He=F({name:"QCard",props:{...be,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=ne(),n=xe(e,o),s=$(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:s.value},T(t.default))}});const I=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ce(e){return Ie(e)===0}function ke(e,t){return t<=6?31:t<=11||Ce(e)?30:29}function Ie(e){const t=I.length;let o=I[0],n,s,a,i,r;if(e<o||e>=I[t-1])throw new Error("Invalid Jalaali year "+e);for(r=1;r<t&&(n=I[r],s=n-o,!(e<n));r+=1)o=n;return i=e-o,s-i<6&&(i=i-s+Oe(s+4,33)*33),a=G(G(i+1,33)-1,4),a===-1&&(a=4),a}function Oe(e,t){return~~(e/t)}function G(e,t){return e-~~(e/t)*t}const re=864e5,Te=36e5,A=6e4,le="YYYY-MM-DDTHH:mm:ss.SSSZ",Qe=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Fe=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,N={};function Ue(e,t){const o="("+t.days.join("|")+")",n=e+o;if(N[n]!==void 0)return N[n];const s="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",i="("+t.monthsShort.join("|")+")",r={};let u=0;const _=e.replace(Fe,c=>{switch(u++,c){case"YY":return r.YY=u,"(-?\\d{1,2})";case"YYYY":return r.YYYY=u,"(-?\\d{1,4})";case"M":return r.M=u,"(\\d{1,2})";case"MM":return r.M=u,"(\\d{2})";case"MMM":return r.MMM=u,i;case"MMMM":return r.MMMM=u,a;case"D":return r.D=u,"(\\d{1,2})";case"Do":return r.D=u++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return r.D=u,"(\\d{2})";case"H":return r.H=u,"(\\d{1,2})";case"HH":return r.H=u,"(\\d{2})";case"h":return r.h=u,"(\\d{1,2})";case"hh":return r.h=u,"(\\d{2})";case"m":return r.m=u,"(\\d{1,2})";case"mm":return r.m=u,"(\\d{2})";case"s":return r.s=u,"(\\d{1,2})";case"ss":return r.s=u,"(\\d{2})";case"S":return r.S=u,"(\\d{1})";case"SS":return r.S=u,"(\\d{2})";case"SSS":return r.S=u,"(\\d{3})";case"A":return r.A=u,"(AM|PM)";case"a":return r.a=u,"(am|pm)";case"aa":return r.aa=u,"(a\\.m\\.|p\\.m\\.)";case"ddd":return s;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return r.Z=u,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return r.ZZ=u,"(Z|[+-]\\d{2}\\d{2})";case"X":return r.X=u,"(-?\\d+)";case"x":return r.x=u,"(-?\\d{4,})";default:return u--,c[0]==="["&&(c=c.substring(1,c.length-1)),c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),l={map:r,regex:new RegExp("^"+_)};return N[n]=l,l}function ue(e,t){return e!==void 0?e:t!==void 0?t.date:ve.date}function K(e,t=""){const o=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),a=n%60;return o+h(s)+t+h(a)}function Ze(e,t,o){let n=e.getFullYear(),s=e.getMonth();const a=e.getDate();return t.year!==void 0&&(n+=o*t.year,delete t.year),t.month!==void 0&&(s+=o*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(n),e.setMonth(s),e.setDate(Math.min(a,j(e))),t.date!==void 0&&(e.setDate(e.getDate()+o*t.date),delete t.date),e}function ze(e,t,o){const n=t.year!==void 0?t.year:e[`get${o}FullYear`](),s=t.month!==void 0?t.month-1:e[`get${o}Month`](),a=new Date(n,s+1,0).getDate(),i=Math.min(a,t.date!==void 0?t.date:e[`get${o}Date`]());return e[`set${o}Date`](1),e[`set${o}Month`](2),e[`set${o}FullYear`](n),e[`set${o}Month`](s),e[`set${o}Date`](i),delete t.year,delete t.month,delete t.date,e}function X(e,t,o){const n=ie(t),s=new Date(e),a=n.year!==void 0||n.month!==void 0||n.date!==void 0?Ze(s,n,o):s;for(const i in n){const r=we(i);a[`set${r}`](a[`get${r}`]()+o*n[i])}return a}function ie(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function ce(e,t,o){const n=ie(t),s=o===!0?"UTC":"",a=new Date(e),i=n.year!==void 0||n.month!==void 0||n.date!==void 0?ze(a,n,s):a;for(const r in n){const u=r.charAt(0).toUpperCase()+r.slice(1);i[`set${s}${u}`](n[r])}return i}function Ne(e,t,o){const n=Re(e,t,o),s=new Date(n.year,n.month===null?null:n.month-1,n.day===null?1:n.day,n.hour,n.minute,n.second,n.millisecond),a=s.getTimezoneOffset();return n.timezoneOffset===null||n.timezoneOffset===a?s:X(s,{minutes:n.timezoneOffset-a},1)}function Re(e,t,o,n,s){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(s!==void 0&&Object.assign(a,s),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=le);const i=ue(o,ae.props),r=i.months,u=i.monthsShort,{regex:_,map:l}=Ue(t,i),c=e.match(_);if(c===null)return a;let y="";if(l.X!==void 0||l.x!==void 0){const D=parseInt(c[l.X!==void 0?l.X:l.x],10);if(isNaN(D)===!0||D<0)return a;const w=new Date(D*(l.X!==void 0?1e3:1));a.year=w.getFullYear(),a.month=w.getMonth()+1,a.day=w.getDate(),a.hour=w.getHours(),a.minute=w.getMinutes(),a.second=w.getSeconds(),a.millisecond=w.getMilliseconds()}else{if(l.YYYY!==void 0)a.year=parseInt(c[l.YYYY],10);else if(l.YY!==void 0){const D=parseInt(c[l.YY],10);a.year=D<0?D:2e3+D}if(l.M!==void 0){if(a.month=parseInt(c[l.M],10),a.month<1||a.month>12)return a}else l.MMM!==void 0?a.month=u.indexOf(c[l.MMM])+1:l.MMMM!==void 0&&(a.month=r.indexOf(c[l.MMMM])+1);if(l.D!==void 0){if(a.day=parseInt(c[l.D],10),a.year===null||a.month===null||a.day<1)return a;const D=n!=="persian"?new Date(a.year,a.month,0).getDate():ke(a.year,a.month);if(a.day>D)return a}l.H!==void 0?a.hour=parseInt(c[l.H],10)%24:l.h!==void 0&&(a.hour=parseInt(c[l.h],10)%12,(l.A&&c[l.A]==="PM"||l.a&&c[l.a]==="pm"||l.aa&&c[l.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),l.m!==void 0&&(a.minute=parseInt(c[l.m],10)%60),l.s!==void 0&&(a.second=parseInt(c[l.s],10)%60),l.S!==void 0&&(a.millisecond=parseInt(c[l.S],10)*10**(3-c[l.S].length)),(l.Z!==void 0||l.ZZ!==void 0)&&(y=l.Z!==void 0?c[l.Z].replace(":",""):c[l.ZZ],a.timezoneOffset=(y[0]==="+"?-1:1)*(60*y.slice(1,3)+1*y.slice(3,5)))}return a.dateHash=h(a.year,6)+"/"+h(a.month)+"/"+h(a.day),a.timeHash=h(a.hour)+":"+h(a.minute)+":"+h(a.second)+y,a}function Ae(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function Be(e,t){return ce(new Date,e,t)}function Ee(e){const t=new Date(e).getDay();return t===0?7:t}function B(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const o=new Date(t.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const n=t.getTimezoneOffset()-o.getTimezoneOffset();t.setHours(t.getHours()-n);const s=(t-o)/(re*7);return 1+Math.floor(s)}function Le(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function R(e,t){const o=new Date(e);return t===!0?Le(o):o.getTime()}function Xe(e,t,o,n={}){const s=R(t,n.onlyDate),a=R(o,n.onlyDate),i=R(e,n.onlyDate);return(i>s||n.inclusiveFrom===!0&&i===s)&&(i<a||n.inclusiveTo===!0&&i===a)}function je(e,t){return X(e,t,1)}function Pe(e,t){return X(e,t,-1)}function S(e,t,o){const n=new Date(e),s=`set${o===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${s}Month`](0);case"month":case"months":n[`${s}Date`](1);case"day":case"days":case"date":n[`${s}Hours`](0);case"hour":case"hours":n[`${s}Minutes`](0);case"minute":case"minutes":n[`${s}Seconds`](0);case"second":case"seconds":n[`${s}Milliseconds`](0)}return n}function We(e,t,o){const n=new Date(e),s=`set${o===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${s}Month`](11);case"month":case"months":n[`${s}Date`](j(n));case"day":case"days":case"date":n[`${s}Hours`](23);case"hour":case"hours":n[`${s}Minutes`](59);case"minute":case"minutes":n[`${s}Seconds`](59);case"second":case"seconds":n[`${s}Milliseconds`](999)}return n}function Je(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{t=Math.max(t,new Date(o))}),t}function Ge(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{t=Math.min(t,new Date(o))}),t}function O(e,t,o){return(e.getTime()-e.getTimezoneOffset()*A-(t.getTime()-t.getTimezoneOffset()*A))/o}function de(e,t,o="days"){const n=new Date(e),s=new Date(t);switch(o){case"years":case"year":return n.getFullYear()-s.getFullYear();case"months":case"month":return(n.getFullYear()-s.getFullYear())*12+n.getMonth()-s.getMonth();case"days":case"day":case"date":return O(S(n,"day"),S(s,"day"),re);case"hours":case"hour":return O(S(n,"hour"),S(s,"hour"),Te);case"minutes":case"minute":return O(S(n,"minute"),S(s,"minute"),A);case"seconds":case"second":return O(S(n,"second"),S(s,"second"),1e3)}}function E(e){return de(e,S(e,"year"),"days")+1}function Ke(e){return oe(e)===!0?"date":typeof e=="number"?"number":"string"}function et(e,t,o){const n=new Date(e);if(t){const s=new Date(t);if(n<s)return s}if(o){const s=new Date(o);if(n>s)return s}return n}function tt(e,t,o){const n=new Date(e),s=new Date(t);if(o===void 0)return n.getTime()===s.getTime();switch(o){case"second":case"seconds":if(n.getSeconds()!==s.getSeconds())return!1;case"minute":case"minutes":if(n.getMinutes()!==s.getMinutes())return!1;case"hour":case"hours":if(n.getHours()!==s.getHours())return!1;case"day":case"days":case"date":if(n.getDate()!==s.getDate())return!1;case"month":case"months":if(n.getMonth()!==s.getMonth())return!1;case"year":case"years":if(n.getFullYear()!==s.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${o}`)}return!0}function j(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function ee(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const te={YY(e,t,o){const n=this.YYYY(e,t,o)%100;return n>=0?h(n):"-"+h(Math.abs(n))},YYYY(e,t,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return h(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ee(this.Q(e))},D(e){return e.getDate()},Do(e){return ee(e.getDate())},DD(e){return h(e.getDate())},DDD(e){return E(e)},DDDD(e){return h(E(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return B(e)},ww(e){return h(B(e))},H(e){return e.getHours()},HH(e){return h(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return h(this.h(e))},m(e){return e.getMinutes()},mm(e){return h(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return h(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return h(Math.floor(e.getMilliseconds()/10))},SSS(e){return h(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,o,n){const s=n==null?e.getTimezoneOffset():n;return K(s,":")},ZZ(e,t,o,n){const s=n==null?e.getTimezoneOffset():n;return K(s)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function nt(e,t,o,n,s){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=le);const i=ue(o,ae.props);return t.replace(Qe,(r,u)=>r in te?te[r](a,i,n,s):u===void 0?r:u.split("\\]").join("]"))}function at(e){return oe(e)===!0?new Date(e.getTime()):e}var ot={isValid:Ae,extractDate:Ne,buildDate:Be,getDayOfWeek:Ee,getWeekOfYear:B,isBetweenDates:Xe,addToDate:je,subtractFromDate:Pe,adjustDate:ce,startOfDate:S,endOfDate:We,getMaxDate:Je,getMinDate:Ge,getDateDiff:de,getDayOfYear:E,inferDateFormat:Ke,getDateBetween:et,isSameDate:tt,daysInMonth:j,formatDate:nt,clone:at};const st=g("div",{class:"text-h6"},"\u0414\u0430\u043D\u043D\u044B\u0435",-1),rt={class:"row"},lt={class:"col-12 col-md-6"},ut={class:"col-12 col-md-6"},it={class:"col-12 col-md-6"},ct={class:"col-12 col-md-6"},dt={class:"col-12 col-md-6"},mt={class:"col-12 col-md-6"},ft={class:"col-12 col-md-6"},ht=g("h5",null,"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",-1),gt={class:"row"},vt={class:"col-12 col-md-6"},pt={class:"col-12 col-md-6"},Dt={class:"col-12 col-md-6"},yt={class:"col-12 col-md-6"},Mt={__name:"RequestForm",props:{show:Boolean},emits:["add","close"],setup(e,{emit:t}){const o=M(5),n=t,s=e,a=$(()=>s.show),i=["init","waitformeeting","meeting","waitforcoownersdata","waitforuploaddocs","process","success","decline","client","archive","double","lol"],r=["\u0418\u041F","OOO"],u=["\u041D\u0430\u043B\u043E\u0433\u043E\u0432\u0430\u044F \u043A\u043E\u043D\u0441\u0443\u043B\u044C\u0442\u0430\u0446\u0438\u044F","SMM - \u0441\u043E\u043F\u0440\u043E\u0432\u043E\u0436\u0434\u0435\u043D\u0438\u0435","\u041F\u043E\u0438\u0441\u043A \u043A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442\u043E\u0432"],_=M(""),l=M(""),c=M(""),y=M(""),D=M(""),w=M(""),q=M(""),V=M(""),U=M(""),H=M(""),C=M(""),me=()=>{_.value="",l.value="",c.value="",y.value="",D.value="",w.value="",q.value="",V.value="",H.value="",C.value=""},fe=()=>{n("close")},P=()=>{me(),fe()},he=()=>{const p={},f=Date.now();o.value=o.value+1,p.id=String(o.value),p.num=o.value+5e3,p.dadd=ot.formatDate(f,"YYYY-MM-DDTHH:mm:ss.SSS"),p.state=_.value,p.lastUpd=p.dadd,p.stg=l.value,p.inn=c.value,p.company_name=C.value,p.person_phone=D.value,p.company_type=U.value,p.person_fullname=w.value,p.person_email=q.value,p.extra={partner:{client_name:y.value,inn:H.value},crm_source_type:V.value},n("add",p),P()};return(p,f)=>(L(),se("div",null,[m(_e,{modelValue:a.value,"onUpdate:modelValue":f[11]||(f[11]=d=>a.value=d)},{default:v(()=>[m(He,null,{default:v(()=>[m(z,{class:"row items-center q-pb-none"},{default:v(()=>[st,m(Ve)]),_:1}),m(Ye,{onSubmit:he,onReset:P,class:"q-gutter-md"},{default:v(()=>[m(z,null,{default:v(()=>[g("div",rt,[g("div",lt,[m(Y,{class:"q-ma-xs",label:"\u0424\u0418\u041E",outlined:"",modelValue:w.value,"onUpdate:modelValue":f[0]||(f[0]=d=>w.value=d)},null,8,["modelValue"])]),g("div",ut,[m(Y,{class:"q-ma-xs",label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D*",outlined:"",type:"tel",modelValue:D.value,"onUpdate:modelValue":f[1]||(f[1]=d=>D.value=d),rules:[d=>!!d||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!"],mask:"+7 (###) ###-##-##"},null,8,["modelValue","rules"])]),g("div",it,[m(Y,{class:"q-ma-xs",label:"Email",outlined:"",modelValue:q.value,"onUpdate:modelValue":f[2]||(f[2]=d=>q.value=d)},null,8,["modelValue"])]),g("div",ct,[m(Y,{class:"q-ma-xs",label:"\u0418\u041D\u041D",outlined:"",modelValue:c.value,"onUpdate:modelValue":f[3]||(f[3]=d=>c.value=d),counter:"",maxlength:"12",mask:"############"},null,8,["modelValue"])]),g("div",dt,[m(Z,{class:"q-ma-xs",label:"\u0421\u0442\u0430\u0442\u0443\u0441*",outlined:"",modelValue:_.value,"onUpdate:modelValue":f[4]||(f[4]=d=>_.value=d),options:i,rules:[d=>!!d||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!"]},null,8,["modelValue","rules"])]),g("div",mt,[m(Z,{class:"q-ma-xs",label:"\u0422\u0438\u043F \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438",outlined:"",modelValue:U.value,"onUpdate:modelValue":f[5]||(f[5]=d=>U.value=d),options:r},null,8,["modelValue"])]),g("div",ft,[m(Z,{class:"q-ma-xs",label:"\u041F\u0440\u043E\u0434\u0443\u043A\u0442*",rules:[d=>!!d||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!"],outlined:"",modelValue:l.value,"onUpdate:modelValue":f[6]||(f[6]=d=>l.value=d),options:u},null,8,["rules","modelValue"])])]),ht,g("div",gt,[g("div",vt,[m(Y,{class:"q-ma-xs",label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438*",outlined:"",modelValue:C.value,"onUpdate:modelValue":f[7]||(f[7]=d=>C.value=d),rules:[d=>!!d||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!"]},null,8,["modelValue","rules"])]),g("div",pt,[m(Y,{class:"q-ma-xs",label:"\u041A\u043B\u0438\u0435\u043D\u0442*",outlined:"",modelValue:y.value,"onUpdate:modelValue":f[8]||(f[8]=d=>y.value=d),rules:[d=>!!d||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435!"]},null,8,["modelValue","rules"])]),g("div",Dt,[m(Y,{class:"q-ma-xs",label:"\u0418\u041D\u041D \u043F\u0430\u0440\u0442\u043D\u0435\u0440\u0430",outlined:"",counter:"",maxlength:"12",mask:"############",modelValue:H.value,"onUpdate:modelValue":f[9]||(f[9]=d=>H.value=d)},null,8,["modelValue"])]),g("div",yt,[m(Y,{class:"q-ma-xs",label:"CRM",outlined:"",modelValue:V.value,"onUpdate:modelValue":f[10]||(f[10]=d=>V.value=d)},null,8,["modelValue"])])])]),_:1}),m(z,null,{default:v(()=>[m(x,{color:"primary",class:"q-ml-md",size:"sm",type:"submit"},{default:v(()=>[Q("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C")]),_:1}),m(x,{color:"grey",class:"q-ml-md",size:"sm",type:"reset"},{default:v(()=>[Q("\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},wt={class:"q-pa-md d-flex flex-column"},_t={class:"q-mb-md"},Ht={__name:"RequestPage",setup(e){const t=Se(),o=$(()=>[...t.rows]),n=l=>{t.addNewReq(l)},s=[{name:"num",label:"\u2116 \u0417\u0430\u044F\u0432\u043A\u0438",field:"num"},{name:"stg",label:"\u041F\u0440\u043E\u0434\u0443\u043A\u0442",field:"stg"},{name:"dadd",label:"\u0414\u0430\u0442\u0430",field:l=>a(l.dadd)},{name:"client_name",label:"\u041A\u043B\u0438\u0435\u043D\u0442",field:"client_name"},{name:"state",label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:"state"},{name:"person_phone",label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D",field:"person_phone"},{name:"delete",label:"",field:"id"},{name:"action",label:"\u0414\u0435\u0442\u0430\u043B\u0438",field:"id"}],a=l=>{const c=new Date(l),y={year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"};return c.toLocaleDateString("ru-RU",y)},i=()=>{t.isShow=!1},r=pe();async function u(l){t.details[l]||await t.getDetails(l),r.push(`/request/${l}`)}const _=l=>{t.removeRow(l),t.tabIsOpen(l)&&t.removeTab(l)};return De(()=>{t.rows.length<=0&&t.fetchData()}),(l,c)=>(L(),se("div",wt,[g("div",_t,[m(x,{color:"grey-4","text-color":"black",glossy:"",unelevated:"",icon:"add",label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u044F\u0432\u043A\u0443",onClick:c[0]||(c[0]=y=>J(t).isShow=!0)})]),g("div",null,[m($e,{columns:s,rows:o.value,onClickBtn:u,onDelete:_},null,8,["rows"])]),m(Mt,{show:J(t).isShow,onAdd:n,onClose:i},null,8,["show"])]))}};export{Ht as default};
